<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>ðŸ“œ All Scrolls | Codex Ecclesia</title>
  <link rel="stylesheet" href="style.css" />
  <style>
    .scroll {
      border: 1px solid #ccc;
      padding: 1em;
      margin-bottom: 1em;
      background: #fff;
      border-left: 5px solid #003366;
    }
    #search {
      width: 100%;
      padding: 0.5em;
      margin-bottom: 1em;
      font-size: 1em;
    }
  </style>
</head>
<body>
  <header>
    <h1>ðŸ“œ All Scrolls</h1>
    <input type="text" id="search" placeholder="Search scrolls by title, author, or tagâ€¦" />
  </header>

  <main id="scroll-list">
    <!-- Scrolls will be rendered here -->
  </main>

  <footer>
    <p>â˜© Powered by the Omega Ecclesia</p>
  </footer>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const scrollList = document.getElementById('scroll-list');
      const searchInput = document.getElementById('search');

      fetch('scrolls/scrolls.json')
        .then(res => res.json())
        .then(data => {
          const scrolls = data.scrolls || data;

          function renderScrolls(filter = '') {
            scrollList.innerHTML = '';
            scrolls
              .filter(s =>
                s.title.toLowerCase().includes(filter.toLowerCase()) ||
                (s.author && s.author.toLowerCase().includes(filter.toLowerCase())) ||
                (s.tags && s.tags.some(tag => tag.toLowerCase().includes(filter.toLowerCase())))
              )
              .forEach(scroll => {
                const div = document.createElement('div');
                div.className = 'scroll';
                div.innerHTML = `
                  <h2>${scroll.title}</h2>
                  <p><strong>Author:</strong> ${scroll.author || 'Unknown'}</p>
                  <p><strong>Tags:</strong> ${scroll.tags?.join(', ') || 'None'}</p>
                  <p>${scroll.summary || ''}</p>
                `;
                scrollList.appendChild(div);
              });
          }

          renderScrolls();

          searchInput.addEventListener('input', e => {
            renderScrolls(e.target.value);
          });
        });
    });
  </script>
</body>
</html>
